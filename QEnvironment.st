'From Squeak6.0 of 21 October 2022 [latest update: #22114] on 17 November 2022 at 5:10:06 pm'!Object subclass: #QEnvironment	instanceVariableNames: 'variableScope methodScope activations'	classVariableNames: ''	poolDictionaries: ''	category: 'Quest-Scopes'!!QEnvironment methodsFor: 'initialize-release' stamp: 'BKM 11/17/2022 15:51'!initialize	super initialize.	variableScope := ScopeInterface globalScope.	methodScope := ScopeInterface globalScope.	activations := OrderedCollection new.! !!QEnvironment methodsFor: 'accessing' stamp: 'BKM 11/17/2022 15:47'!activations	^ activations! !!QEnvironment methodsFor: 'accessing' stamp: 'BKM 11/17/2022 15:47'!activations: anObject	activations := anObject.! !!QEnvironment methodsFor: 'accessing' stamp: 'BKM 11/17/2022 15:46'!globalScope	self activations isEmpty	ifTrue:[^self variableScope].	^self activations first! !!QEnvironment methodsFor: 'accessing' stamp: 'BKM 11/17/2022 15:47'!methodScope	^ methodScope! !!QEnvironment methodsFor: 'accessing' stamp: 'BKM 11/17/2022 15:47'!methodScope: anObject	methodScope := anObject.! !!QEnvironment methodsFor: 'accessing' stamp: 'BKM 11/17/2022 15:47'!variableScope	^ variableScope! !!QEnvironment methodsFor: 'accessing' stamp: 'BKM 11/17/2022 15:47'!variableScope: anObject	variableScope := anObject.! !!QEnvironment methodsFor: 'activation' stamp: 'BKM 11/17/2022 16:39'!createActivation	self activations addLast: self variableScope.	self variableScope: (ScopeInterface outerScope: self globalScope).		! !!QEnvironment methodsFor: 'testing' stamp: 'BKM 11/17/2022 16:01'!isInMethodScope: aString 		^self methodScope isInScope: aString! !!QEnvironment methodsFor: 'testing' stamp: 'BKM 11/17/2022 15:54'!isInVariableScope: aString 		^self variableScope isInScope: aString! !!QEnvironment methodsFor: 'Scope Interface' stamp: 'BKM 11/17/2022 16:02'!bind: aString method: aMethod		self methodScope bind: aString to: aMethod! !!QEnvironment methodsFor: 'Scope Interface' stamp: 'BKM 11/17/2022 15:56'!bind: aString variable: aQVariable 		self variableScope bind: aString to: aQVariable! !!QEnvironment methodsFor: 'Scope Interface' stamp: 'BKM 11/17/2022 16:03'!fetchMethod: aString 		^self methodScope fetch: aString! !!QEnvironment methodsFor: 'Scope Interface' stamp: 'BKM 11/17/2022 15:59'!fetchVariable: aString 		^self variableScope fetch: aString! !!QEnvironment methodsFor: 'destroy' stamp: 'BKM 11/17/2022 17:06'!destroyActivation	self variableScope: self activations removeLast ! !